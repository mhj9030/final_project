<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="scrap">
	
	
	<!-- 스크랩 Count -->
	<select id="countScrap" parameterType="map" resultType="Integer">
		select nvl(count(*), 0) from company_qu cq
			join company c on cq.cNum=c.cNum
 			where cq.cqQuestioner=#{mId}
	</select>
	
	<!-- 스크랩 리스트 -->
	<select id="listScrap" parameterType="map" resultType="com.final_project.member.Scrap">
				select scrapdate, cname,cesubject,ceend,C.cserial,E.cenum from com_employ E
				JOIN scrap S ON E.cenum = S.cenum
				JOIN company C ON E.cserial = C.cserial
				where S.mid = #{mid}
	</select>
</mapper>
